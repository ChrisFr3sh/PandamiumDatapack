# Send request
execute at @a if score @s tpa = @p id run tellraw @p [{"text":"[TPA]","color":"dark_blue"},{"text":" You received a ","color":"green"},{"text":"tpa request","color":"aqua"},{"text":" from ","color":"green"},{"selector":"@s"},{"text":"!\nYou can click to [","color":"green"},{"text":"accept","color":"aqua","clickEvent":{"action":"run_command","value":"/trigger tpa_accept set 1"}},{"text":"] or [","color":"green"},{"text":"deny","color":"aqua","clickEvent":{"action":"run_command","value":"/trigger tpa_accept set 2"}},{"text":"] the request!","color":"green"}]
execute at @a if score @s tpa = @p id run tellraw @s [{"text":"[TPA]","color":"dark_blue"},{"text":" Your tpa request was ","color":"green"},{"text":"successfully","color":"aqua"},{"text":" sent to ","color":"green"},{"selector":"@p"},{"text":"!","color":"green"}]
execute at @a if score @s tpa = @p id run scoreboard players set @p deny_timer 600

execute as @a[scores={tpa=2..}] at @a if score @s tpa = @p id run scoreboard players operation @p tpa_request = @s id
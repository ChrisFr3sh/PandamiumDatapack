execute if score @s pose matches 1.. at @s run effect clear @e[type=armor_stand,distance=..6]
execute if score @s pose matches 1.. at @s run tag @e[type=armor_stand,tag=select,distance=..6] remove select

execute at @s run tag @e[type=armor_stand,sort=nearest,distance=..3,limit=1,tag=!pose.locked] add select


execute if score @s pose matches 1 at @s if entity @e[type=armor_stand,tag=select,distance=..10,tag=!pose.locked] run tellraw @s [{"text":"Armour stand posing menu:\n","color":"aqua","bold":true},{"text":"1: ","color":"green","bold":false},{"text":"[Add arms]   ","color":"blue","bold":false,"clickEvent":{"action":"run_command","value":"/trigger pose set -1"}},{"text":"2: ","color":"green","bold":false},{"text":"[Hide base plate]\n","color":"blue","bold":false,"clickEvent":{"action":"run_command","value":"/trigger pose set -2"}},{"text":"3: ","color":"green","bold":false},{"text":"[Attention]   ","color":"aqua","bold":false,"clickEvent":{"action":"run_command","value":"/trigger pose set -3"}},{"text":"4: ","color":"green","bold":false},{"text":"[Walking]\n","color":"aqua","bold":false,"clickEvent":{"action":"run_command","value":"/trigger pose set -4"}},{"text":"5: ","color":"green","bold":false},{"text":"[Running]   ","color":"aqua","bold":false,"clickEvent":{"action":"run_command","value":"/trigger pose set -5"}},{"text":"6: ","color":"green","bold":false},{"text":"[Pointing]\n","color":"aqua","bold":false,"clickEvent":{"action":"run_command","value":"/trigger pose set -6"}},{"text":"7: ","color":"green","bold":false},{"text":"[Blocking]   ","color":"aqua","bold":false,"clickEvent":{"action":"run_command","value":"/trigger pose set -7"}},{"text":"8: ","color":"green","bold":false},{"text":"[Lungeing]\n","color":"aqua","bold":false,"clickEvent":{"action":"run_command","value":"/trigger pose set -8"}},{"text":"9: ","color":"green","bold":false},{"text":"[Winning]   ","color":"aqua","bold":false,"clickEvent":{"action":"run_command","value":"/trigger pose set -9"}},{"text":"10: ","color":"green","bold":false},{"text":"[Sitting]\n","color":"aqua","bold":false,"clickEvent":{"action":"run_command","value":"/trigger pose set -10"}},{"text":"11: ","color":"green","bold":false},{"text":"[Arabesque]  ","color":"aqua","bold":false,"clickEvent":{"action":"run_command","value":"/trigger pose set -11"}},{"text":"12: ","color":"green","bold":false},{"text":"[Cupid]\n","color":"aqua","bold":false,"clickEvent":{"action":"run_command","value":"/trigger pose set -12"}},{"text":"13: ","color":"green","bold":false},{"text":"[Confident]  ","color":"aqua","bold":false,"clickEvent":{"action":"run_command","value":"/trigger pose set -11"}},{"text":"14: ","color":"green","bold":false},{"text":"[Salute]\n","color":"aqua","bold":false,"clickEvent":{"action":"run_command","value":"/trigger pose set -14"}},{"text":"15: ","color":"green","bold":false},{"text":"[Death]  ","color":"aqua","bold":false,"clickEvent":{"action":"run_command","value":"/trigger pose set -15"}},{"text":"16: ","color":"green","bold":false},{"text":"[Facepalm]\n","color":"aqua","bold":false,"clickEvent":{"action":"run_command","value":"/trigger pose set -16"}},{"text":"17: ","color":"green","bold":false},{"text":"[Lazing]  ","color":"aqua","bold":false,"clickEvent":{"action":"run_command","value":"/trigger pose set -17"}},{"text":"18: ","color":"green","bold":false},{"text":"[Confused]\n","color":"aqua","bold":false,"clickEvent":{"action":"run_command","value":"/trigger pose set -18"}},{"text":"19: ","color":"green","bold":false},{"text":"[Formal]  ","color":"aqua","bold":false,"clickEvent":{"action":"run_command","value":"/trigger pose set -19"}},{"text":"20: ","color":"green","bold":false},{"text":"[Sad]\n","color":"aqua","bold":false,"clickEvent":{"action":"run_command","value":"/trigger pose set -20"}},{"text":"21: ","color":"green","bold":false},{"text":"[Joyous]  ","color":"aqua","bold":false,"clickEvent":{"action":"run_command","value":"/trigger pose set -21"}},{"text":"22: ","color":"green","bold":false},{"text":"[Stargazing]\n","color":"aqua","bold":false,"clickEvent":{"action":"run_command","value":"/trigger pose set -22"}},{"text":"23: ","color":"green","bold":false},{"text":"[Block]  ","color":"aqua","bold":false,"clickEvent":{"action":"run_command","value":"/trigger pose set -23"}},{"text":"24: ","color":"green","bold":false},{"text":"[Item]\n","color":"aqua","bold":false,"clickEvent":{"action":"run_command","value":"/trigger pose set -24"}},{"text":"25: ","color":"green","bold":false},{"text":"[Lock armor stand]","color":"red","bold":false,"clickEvent":{"action":"run_command","value":"/trigger pose set -25"}}]
execute if score @s pose matches 1 at @s unless entity @e[type=armor_stand,tag=select,distance=..10] run tellraw @s [{"text":"No armour stands Found!","color":"red"}]
execute at @s if score @s pose matches 1 as @e[type=armor_stand,tag=select,distance=..10,tag=!pose.locked] run effect give @s minecraft:glowing 30

execute at @s if score @s pose matches -1 as @e[type=armor_stand,tag=select,distance=..6,sort=nearest] run data merge entity @s {ShowArms:1b}
execute at @s if score @s pose matches -2 as @e[type=armor_stand,tag=select,distance=..6,sort=nearest] run data merge entity @s {NoBasePlate:1}

#credit to vanilla tweaks for poses:

execute at @s if score @s pose matches -3 as @e[type=armor_stand,tag=select,distance=..6,sort=nearest,limit=1,tag=!pose.locked] run data merge entity @s {Pose:{Head:[0.0f,0.001f,0.0f],Body:[0.0f,0.001f,0.0f],RightArm:[0.0f,0.0f,0.0f],LeftArm:[0.0f,0.0f,0.0f],RightLeg:[0.0f,0.0f,0.0f],LeftLeg:[0.0f,0.0f,0.0f]}}
execute at @s if score @s pose matches -4 as @e[type=armor_stand,tag=select,distance=..6,sort=nearest,limit=1,tag=!pose.locked] run data merge entity @s {Pose:{Head:[0.0f,0.001f,0.0f],Body:[0.0f,0.001f,0.0f],RightArm:[20.0f,0.0f,10.0f],LeftArm:[-20.0f,0.0f,-10.0f],RightLeg:[-20.0f,0.0f,0.0f],LeftLeg:[20.0f,0.0f,0.0f]}}
execute at @s if score @s pose matches -5 as @e[type=armor_stand,tag=select,distance=..6,sort=nearest,limit=1,tag=!pose.locked] run data merge entity @s {Pose:{Head:[0.0f,0.001f,0.0f],Body:[0.0f,0.001f,0.0f],RightArm:[-40.0f,0.0f,10.0f],LeftArm:[40.0f,0.0f,-10.0f],RightLeg:[40.0f,0.0f,0.0f],LeftLeg:[-40.0f,0.0f,0.0f]}}
execute at @s if score @s pose matches -6 as @e[type=armor_stand,tag=select,distance=..6,sort=nearest,limit=1,tag=!pose.locked] run data merge entity @s {Pose:{Head:[0.0f,20.0f,0.0f],Body:[0.0f,0.001f,0.0f],RightArm:[-90.0f,18.0f,0.0f],LeftArm:[0.0f,0.0f,-10.0f],RightLeg:[0.0f,0.0f,0.0f],LeftLeg:[0.0f,0.0f,0.0f]}}
execute at @s if score @s pose matches -7 as @e[type=armor_stand,tag=select,distance=..6,sort=nearest,limit=1,tag=!pose.locked] run data merge entity @s {Pose:{Head:[0.0f,0.001f,0.0f],Body:[0.0f,0.001f,0.0f],RightArm:[-20.0f,-20.0f,0.0f],LeftArm:[-50.0f,50.0f,0.0f],RightLeg:[-20.0f,0.0f,0.0f],LeftLeg:[20.0f,0.0f,0.0f]}}
execute at @s if score @s pose matches -8 as @e[type=armor_stand,tag=select,distance=..6,sort=nearest,limit=1,tag=!pose.locked] run data merge entity @s {Pose:{Head:[0.0f,0.001f,0.0f],Body:[15.0f,0.0f,0.0f],RightArm:[-60.0f,-10.0f,0.0f],LeftArm:[10.0f,0.0f,-10.0f],RightLeg:[-15.0f,0.0f,0.0f],LeftLeg:[30.0f,0.0f,0.0f]}}
execute at @s if score @s pose matches -9 as @e[type=armor_stand,tag=select,distance=..6,sort=nearest,limit=1,tag=!pose.locked] run data merge entity @s {Pose:{Head:[-15.0f,0.0f,0.0f],Body:[0.0f,0.001f,0.0f],RightArm:[-120.0f,-10.0f,0.0f],LeftArm:[10.0f,0.0f,-10.0f],RightLeg:[0.0f,0.0f,0.0f],LeftLeg:[15.0f,0.0f,0.0f]}}
execute at @s if score @s pose matches -10 as @e[type=armor_stand,tag=select,distance=..6,sort=nearest,limit=1,tag=!pose.locked] run data merge entity @s {Pose:{Head:[0.0f,0.001f,0.0f],Body:[0.0f,0.001f,0.0f],RightArm:[-80.0f,20.0f,0.0f],LeftArm:[-80.0f,-20.0f,0.0f],RightLeg:[-90.0f,10.0f,0.0f],LeftLeg:[-90.0f,-10.0f,0.0f]}}
execute at @s if score @s pose matches -11 as @e[type=armor_stand,tag=select,distance=..6,sort=nearest,limit=1,tag=!pose.locked] run data merge entity @s {Pose:{Head:[-15.0f,0.0f,0.0f],Body:[10.0f,0.0f,0.0f],RightArm:[-140.0f,-10.0f,0.0f],LeftArm:[70.0f,0.0f,-10.0f],RightLeg:[0.0f,0.0f,0.0f],LeftLeg:[75.0f,0.0f,0.0f]}}
execute at @s if score @s pose matches -12 as @e[type=armor_stand,tag=select,distance=..6,sort=nearest,limit=1,tag=!pose.locked] run data merge entity @s {Pose:{Head:[0.0f,0.001f,0.0f],Body:[10.0f,0.0f,0.0f],RightArm:[-90.0f,-10.0f,0.0f],LeftArm:[-75.0f,0.0f,10.0f],RightLeg:[0.0f,0.0f,0.0f],LeftLeg:[75.0f,0.0f,0.0f]}}
execute at @s if score @s pose matches -13 as @e[type=armor_stand,tag=select,distance=..6,sort=nearest,limit=1,tag=!pose.locked] run data merge entity @s {Pose:{Head:[-10.0f,20.0f,0.0f],Body:[-2.0f,0.0f,0.0f],RightArm:[5.0f,0.0f,0.0f],LeftArm:[5.0f,0.0f,0.0f],RightLeg:[16.0f,2.0f,10.0f],LeftLeg:[0.0f,-10.0f,-4.0f]}}
execute at @s if score @s pose matches -14 as @e[type=armor_stand,tag=select,distance=..6,sort=nearest,limit=1,tag=!pose.locked] run data merge entity @s {Pose:{Head:[0.0f,0.001f,0.0f],Body:[5.0f,0.0f,0.0f],RightArm:[-124.0f,-51.0f,-35.0f],LeftArm:[29.0f,0.0f,25.0f],RightLeg:[0.0f,-4.0f,-2.0f],LeftLeg:[0.0f,4.0f,2.0f]}}
execute at @s if score @s pose matches -15 as @e[type=armor_stand,tag=select,distance=..6,sort=nearest,limit=1,tag=!pose.locked] run data merge entity @s {Pose:{Head:[-85.0f,0.0f,0.0f],Body:[-90.0f,0.0f,0.0f],RightArm:[-90.0f,10.0f,0.0f],LeftArm:[-90.0f,-10.0f,0.0f],RightLeg:[0.0f,0.0f,0.0f],LeftLeg:[0.0f,0.0f,0.0f]}}
execute at @s if score @s pose matches -16 as @e[type=armor_stand,tag=select,distance=..6,sort=nearest,limit=1,tag=!pose.locked] run data merge entity @s {Pose:{Head:[45.0f,-4.0f,1.0f],Body:[10.0f,0.0f,0.0f],RightArm:[18.0f,-14.0f,0.0f],LeftArm:[-72.0f,24.0f,47.0f],RightLeg:[25.0f,-2.0f,0.0f],LeftLeg:[-4.0f,-6.0f,-2.0f]}}
execute at @s if score @s pose matches -17 as @e[type=armor_stand,tag=select,distance=..6,sort=nearest,limit=1,tag=!pose.locked] run data merge entity @s {Pose:{Head:[14.0f,-12.0f,6.0f],Body:[5.0f,0.0f,0.0f],RightArm:[-40.0f,20.0f,0.0f],LeftArm:[-4.0f,-20.0f,-10.0f],RightLeg:[-88.0f,71.0f,0.0f],LeftLeg:[-88.0f,46.0f,0.0f]}}
execute at @s if score @s pose matches -18 as @e[type=armor_stand,tag=select,distance=..6,sort=nearest,limit=1,tag=!pose.locked] run data merge entity @s {Pose:{Head:[0.0f,30.0f,0f],Body:[0.0f,13.0f,0.0f],RightArm:[-22.0f,31.0f,10.0f],LeftArm:[145.0f,22.0f,-49.0f],RightLeg:[6.0f,-20.0f,0.0f],LeftLeg:[-6.0f,0.0f,0.0f]}}
execute at @s if score @s pose matches -19 as @e[type=armor_stand,tag=select,distance=..6,sort=nearest,limit=1,tag=!pose.locked] run data merge entity @s {Pose:{Head:[4.0f,0.0f,0.0f],Body:[4.0f,0.0f,0.0f],RightArm:[30.0f,22.0f,-20.0f],LeftArm:[30.0f,-20.0f,21.0f],RightLeg:[0.0f,0.0f,5.0f],LeftLeg:[0.0f,0.0f,-5.0f]}}
execute at @s if score @s pose matches -20 as @e[type=armor_stand,tag=select,distance=..6,sort=nearest,limit=1,tag=!pose.locked] run data merge entity @s {Pose:{Head:[63.0f,0.0f,0.0f],Body:[10.0f,0.0f,0.0f],RightArm:[-5.0f,0.0f,5.0f],LeftArm:[-5.0f,0.0f,-5.0f],RightLeg:[-5.0f,-10.0f,5.0f],LeftLeg:[-5.0f,16.0f,-5.0f]}}
execute at @s if score @s pose matches -21 as @e[type=armor_stand,tag=select,distance=..6,sort=nearest,limit=1,tag=!pose.locked] run data merge entity @s {Pose:{Head:[-11.0f,0.0f,0.0f],Body:[-4.0f,0.0f,0.0f],RightArm:[0.0f,0.0f,100.0f],LeftArm:[0.0f,0.0f,-100.0f],RightLeg:[-8.0f,0.0f,60.0f],LeftLeg:[-8.0f,0.0f,-60.0f]}}
execute at @s if score @s pose matches -22 as @e[type=armor_stand,tag=select,distance=..6,sort=nearest,limit=1,tag=!pose.locked] run data merge entity @s {Pose:{Head:[-22.0f,25.0f,0.0f],Body:[-4.0f,10.0f,0.0f],RightArm:[-153.0f,34.0f,-3.0f],LeftArm:[4.0f,18.0f,0.0f],RightLeg:[-4.0f,17.0f,2.0f],LeftLeg:[6.0f,24.0f,0.0f]}}
execute at @s if score @s pose matches -23 as @e[type=armor_stand,tag=select,distance=..6,sort=nearest,limit=1,tag=!pose.locked] run data merge entity @s {Pose:{Head:[0.0f,0.001f,0.0f],Body:[0.0f,0.001f,0.0f],RightArm:[-15.0f,-45.0f,0.0f],LeftArm:[0.0f,0.0f,0.0f],RightLeg:[0.0f,0.0f,0.0f],LeftLeg:[0.0f,0.0f,0.0f]}}
execute at @s if score @s pose matches -24 as @e[type=armor_stand,tag=select,distance=..6,sort=nearest,limit=1,tag=!pose.locked] run data merge entity @s {Pose:{Head:[0.0f,0.001f,0.0f],Body:[0.0f,0.001f,0.0f],RightArm:[-90.0f,0.0f,0.0f],LeftArm:[0.0f,0.0f,0.0f],RightLeg:[0.0f,0.0f,0.0f],LeftLeg:[0.0f,0.0f,0.0f]}}
execute at @s if score @s pose matches -25 run tag @e[type=armor_stand,tag=select,distance=..6,sort=nearest,limit=1] add pose.locked
execute at @s run effect clear @e[type=armor_stand,tag=pose.locked,distance=..6,sort=nearest,limit=1]
execute at @s run tag @e[type=armor_stand,tag=pose.locked,distance=..6,sort=nearest,limit=1] remove select


scoreboard players reset @s pose
scoreboard players enable @s pose

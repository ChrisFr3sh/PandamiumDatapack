# run IN pandamium:staff_world

tag @s add running_trigger
data modify storage pandamium:temp player set from entity @s

execute unless score @s gameplay_perms matches 6.. run function pandamium:misc/donator_only_message

# Menu
execute if score @s gameplay_perms matches 6.. if score @s item_font matches 1.. run tellraw @s [{"text":"======== ","color":"aqua"},{"text":"Item Font Menu","bold":true}," ========"]
execute if score @s gameplay_perms matches 6.. if score @s item_font matches 1.. run tellraw @s [{"text":"","color":"aqua"},{"text":"Bold","bold":true},": ",{"text":"[False]","color":"red","clickEvent":{"action":"run_command","value":"/trigger item_font set -1"},"hoverEvent":{"action":"show_text","value":{"text":"Disable Bold","color":"red"}}}," ",{"text":"[True]","color":"green","clickEvent":{"action":"run_command","value":"/trigger item_font set -2"},"hoverEvent":{"action":"show_text","value":{"text":"Enable Bold","color":"green"}}}]
execute if score @s gameplay_perms matches 6.. if score @s item_font matches 1.. run tellraw @s [{"text":"","color":"aqua"},{"text":"Italic","italic":true},": ",{"text":"[False]","color":"red","clickEvent":{"action":"run_command","value":"/trigger item_font set -3"},"hoverEvent":{"action":"show_text","value":{"text":"Disable Italic","color":"red"}}}," ",{"text":"[True]","color":"green","clickEvent":{"action":"run_command","value":"/trigger item_font set -4"},"hoverEvent":{"action":"show_text","value":{"text":"Enable Italic","color":"green"}}}]
execute if score @s gameplay_perms matches 6.. if score @s item_font matches 1.. run tellraw @s [{"text":"","color":"aqua"},{"text":"Underlined","underlined":true},": ",{"text":"[False]","color":"red","clickEvent":{"action":"run_command","value":"/trigger item_font set -5"},"hoverEvent":{"action":"show_text","value":{"text":"Disable Underlined","color":"red"}}}," ",{"text":"[True]","color":"green","clickEvent":{"action":"run_command","value":"/trigger item_font set -6"},"hoverEvent":{"action":"show_text","value":{"text":"Enable Underlined","color":"green"}}}]
execute if score @s gameplay_perms matches 6.. if score @s item_font matches 1.. run tellraw @s [{"text":"","color":"aqua"},{"text":"Strikethrough","strikethrough":true},": ",{"text":"[False]","color":"red","clickEvent":{"action":"run_command","value":"/trigger item_font set -7"},"hoverEvent":{"action":"show_text","value":{"text":"Disable Strikethrough","color":"red"}}}," ",{"text":"[True]","color":"green","clickEvent":{"action":"run_command","value":"/trigger item_font set -8"},"hoverEvent":{"action":"show_text","value":{"text":"Enable Strikethrough","color":"green"}}}]
execute if score @s gameplay_perms matches 6.. if score @s item_font matches 1.. run tellraw @s ["",{"text":"⬛","color":"#ffffff","clickEvent":{"action":"run_command","value":"/trigger item_font set -9"},"hoverEvent":{"action":"show_text","value":{"text":"White","color":"#ffffff"}}},{"text":"⬛","color":"#555555","clickEvent":{"action":"run_command","value":"/trigger item_font set -10"},"hoverEvent":{"action":"show_text","value":{"text":"Dark Grey","color":"#555555"}}},{"text":"⬛","color":"#ff0000","clickEvent":{"action":"run_command","value":"/trigger item_font set -11"},"hoverEvent":{"action":"show_text","value":{"text":"Red","color":"#ff0000"}}},{"text":"⬛","color":"#ff7f00","clickEvent":{"action":"run_command","value":"/trigger item_font set -12"},"hoverEvent":{"action":"show_text","value":{"text":"Orange","color":"#ff7f00"}}},{"text":"⬛","color":"#ffff00","clickEvent":{"action":"run_command","value":"/trigger item_font set -13"},"hoverEvent":{"action":"show_text","value":{"text":"Yellow","color":"#ffff00"}}},{"text":"⬛","color":"#00ff00","clickEvent":{"action":"run_command","value":"/trigger item_font set -14"},"hoverEvent":{"action":"show_text","value":{"text":"Green","color":"#00ff00"}}},{"text":"⬛","color":"#00ffff","clickEvent":{"action":"run_command","value":"/trigger item_font set -15"},"hoverEvent":{"action":"show_text","value":{"text":"Cyan","color":"#00ffff"}}},{"text":"⬛","color":"#007fff","clickEvent":{"action":"run_command","value":"/trigger item_font set -16"},"hoverEvent":{"action":"show_text","value":{"text":"Azure","color":"#007fff"}}},{"text":"⬛","color":"#0000ff","clickEvent":{"action":"run_command","value":"/trigger item_font set -17"},"hoverEvent":{"action":"show_text","value":{"text":"Blue","color":"#0000ff"}}},{"text":"⬛","color":"#7f00ff","clickEvent":{"action":"run_command","value":"/trigger item_font set -18"},"hoverEvent":{"action":"show_text","value":{"text":"Indigo","color":"#7f00ff"}}},{"text":"⬛","color":"#ff00ff","clickEvent":{"action":"run_command","value":"/trigger item_font set -19"},"hoverEvent":{"action":"show_text","value":{"text":"Magenta","color":"#ff00ff"}}},{"text":"⬛","color":"#ff007f","clickEvent":{"action":"run_command","value":"/trigger item_font set -20"},"hoverEvent":{"action":"show_text","value":{"text":"Rose","color":"#ff007f"}}}]
execute if score @s gameplay_perms matches 6.. if score @s item_font matches 1.. run tellraw @s ["",{"text":"⬛","color":"#aaaaaa","clickEvent":{"action":"run_command","value":"/trigger item_font set -21"},"hoverEvent":{"action":"show_text","value":{"text":"Light Grey","color":"#aaaaaa"}}},{"text":"⬛","color":"#000000","clickEvent":{"action":"run_command","value":"/trigger item_font set -22"},"hoverEvent":{"action":"show_text","value":{"text":"Black","color":"#1f1f1f"}}},{"text":"⬛","color":"#7f0000","clickEvent":{"action":"run_command","value":"/trigger item_font set -23"},"hoverEvent":{"action":"show_text","value":{"text":"Dark Red","color":"#7f0000"}}},{"text":"⬛","color":"#7f3f00","clickEvent":{"action":"run_command","value":"/trigger item_font set -24"},"hoverEvent":{"action":"show_text","value":{"text":"Brass","color":"#7f3f00"}}},{"text":"⬛","color":"#7f7f00","clickEvent":{"action":"run_command","value":"/trigger item_font set -25"},"hoverEvent":{"action":"show_text","value":{"text":"Olive","color":"#7f7f00"}}},{"text":"⬛","color":"#007f00","clickEvent":{"action":"run_command","value":"/trigger item_font set -26"},"hoverEvent":{"action":"show_text","value":{"text":"Dark Green","color":"#007f00"}}},{"text":"⬛","color":"#007f7f","clickEvent":{"action":"run_command","value":"/trigger item_font set -27"},"hoverEvent":{"action":"show_text","value":{"text":"Dark Cyan","color":"#007f7f"}}},{"text":"⬛","color":"#003f7f","clickEvent":{"action":"run_command","value":"/trigger item_font set -28"},"hoverEvent":{"action":"show_text","value":{"text":"Dark Azure","color":"#003f7f"}}},{"text":"⬛","color":"#00007f","clickEvent":{"action":"run_command","value":"/trigger item_font set -29"},"hoverEvent":{"action":"show_text","value":{"text":"Dark Blue","color":"#00007f"}}},{"text":"⬛","color":"#3f007f","clickEvent":{"action":"run_command","value":"/trigger item_font set -30"},"hoverEvent":{"action":"show_text","value":{"text":"Dark Indigo","color":"#3f007f"}}},{"text":"⬛","color":"#7f007f","clickEvent":{"action":"run_command","value":"/trigger item_font set -31"},"hoverEvent":{"action":"show_text","value":{"text":"Dark Magenta","color":"#7f007f"}}},{"text":"⬛","color":"#7f003f","clickEvent":{"action":"run_command","value":"/trigger item_font set -32"},"hoverEvent":{"action":"show_text","value":{"text":"Dark Rose","color":"#7f003f"}}}]
execute if score @s gameplay_perms matches 6.. if score @s item_font matches 1.. run tellraw @s {"text":"================================","color":"aqua"}

# Catch Errors (check if item can be modified)
execute store success score <can_run> variable if score @s item_font matches -32..-1

execute unless score @s gameplay_perms matches 6.. run scoreboard players set <can_run> variable 0
execute unless data storage pandamium:temp player.SelectedItem.tag.display.Name run scoreboard players set <can_run> variable 0
execute if entity @s[gamemode=spectator] run scoreboard players set <can_run> variable 0

# Do Edit
execute if score <can_run> variable matches 1 run function pandamium:misc/item_font/do_edit

# Display an error message
execute if score @s gameplay_perms matches 6.. if score @s item_font matches ..-1 run scoreboard players set <displayed_error> variable 0
execute if score @s gameplay_perms matches 6.. if score @s item_font matches ..-1 if score <can_run> variable matches 0 unless score <displayed_error> variable matches 1 store success score <displayed_error> variable unless score @s item_font matches -32..-1 run tellraw @s [{"text":"","color":"red"},{"text":"[Item Font]","color":"dark_red"}," This is not a valid option!"]
execute if score @s gameplay_perms matches 6.. if score @s item_font matches ..-1 if score <can_run> variable matches 0 unless score <displayed_error> variable matches 1 store success score <displayed_error> variable unless data storage pandamium:temp player.SelectedItem run tellraw @s [{"text":"","color":"red"},{"text":"[Item Font]","color":"dark_red"}," There is no item in your main hand!"]
execute if score @s gameplay_perms matches 6.. if score @s item_font matches ..-1 if score <can_run> variable matches 0 unless score <displayed_error> variable matches 1 store success score <displayed_error> variable unless data storage pandamium:temp player.SelectedItem.tag.display.Name run tellraw @s [{"text":"","color":"red"},{"text":"[Item Font]","color":"dark_red"}," The item in your main hand has no custom name! Name the item using an anvil to change its font."]
execute if score @s gameplay_perms matches 6.. if score @s item_font matches ..-1 if score <can_run> variable matches 0 unless score <displayed_error> variable matches 1 store success score <displayed_error> variable unless score <different_name> variable matches 1 run tellraw @s [{"text":"","color":"red"},{"text":"[Item Font]","color":"dark_red"}," Nothing changed!"]

# 
tag @s remove running_trigger
scoreboard players reset @s item_font
scoreboard players enable @s item_font

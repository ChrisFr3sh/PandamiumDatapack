# Place placeholder barriers. 

execute run replaceitem block 1 52 0 container.0 barrier
execute run replaceitem block 1 52 0 container.1 barrier
execute run replaceitem block 1 52 0 container.2 barrier
execute run replaceitem block 1 52 0 container.3 barrier
execute run replaceitem block 1 52 0 container.4 barrier
execute run replaceitem block 1 52 0 container.5 barrier
execute run replaceitem block 1 52 0 container.6 barrier
execute run replaceitem block 1 52 0 container.7 barrier
execute run replaceitem block 1 52 0 container.8 barrier
execute run replaceitem block 1 52 0 container.9 barrier
execute run replaceitem block 1 52 0 container.10 barrier
execute run replaceitem block 1 52 0 container.11 barrier
execute run replaceitem block 1 52 0 container.12 barrier
execute run replaceitem block 1 52 0 container.13 barrier
execute run replaceitem block 1 52 0 container.14 barrier
execute run replaceitem block 1 52 0 container.15 barrier
execute run replaceitem block 1 52 0 container.16 barrier
execute run replaceitem block 1 52 0 container.17 barrier
execute run replaceitem block 1 52 0 container.18 barrier
execute run replaceitem block 1 52 0 container.19 barrier
execute run replaceitem block 1 52 0 container.20 barrier
execute run replaceitem block 1 52 0 container.21 barrier
execute run replaceitem block 1 52 0 container.22 barrier
execute run replaceitem block 1 52 0 container.23 barrier
execute run replaceitem block 1 52 0 container.24 barrier
execute run replaceitem block 1 52 0 container.27 barrier
execute run replaceitem block 1 52 0 container.25 barrier
execute run replaceitem block 1 52 0 container.26 barrier

# Copy over id, count, and tag. 

data modify block 1 52 0 Items[{Slot:0b}].id set from entity @p EnderItems[{Slot:0b}].id
data modify block 1 52 0 Items[{Slot:1b}].id set from entity @p EnderItems[{Slot:1b}].id
data modify block 1 52 0 Items[{Slot:2b}].id set from entity @p EnderItems[{Slot:2b}].id
data modify block 1 52 0 Items[{Slot:3b}].id set from entity @p EnderItems[{Slot:3b}].id
data modify block 1 52 0 Items[{Slot:4b}].id set from entity @p EnderItems[{Slot:4b}].id
data modify block 1 52 0 Items[{Slot:5b}].id set from entity @p EnderItems[{Slot:5b}].id
data modify block 1 52 0 Items[{Slot:6b}].id set from entity @p EnderItems[{Slot:6b}].id
data modify block 1 52 0 Items[{Slot:7b}].id set from entity @p EnderItems[{Slot:7b}].id
data modify block 1 52 0 Items[{Slot:8b}].id set from entity @p EnderItems[{Slot:8b}].id
data modify block 1 52 0 Items[{Slot:9b}].id set from entity @p EnderItems[{Slot:9b}].id
data modify block 1 52 0 Items[{Slot:10b}].id set from entity @p EnderItems[{Slot:10b}].id
data modify block 1 52 0 Items[{Slot:11b}].id set from entity @p EnderItems[{Slot:11b}].id
data modify block 1 52 0 Items[{Slot:12b}].id set from entity @p EnderItems[{Slot:12b}].id
data modify block 1 52 0 Items[{Slot:13b}].id set from entity @p EnderItems[{Slot:13b}].id
data modify block 1 52 0 Items[{Slot:14b}].id set from entity @p EnderItems[{Slot:14b}].id
data modify block 1 52 0 Items[{Slot:15b}].id set from entity @p EnderItems[{Slot:15b}].id
data modify block 1 52 0 Items[{Slot:16b}].id set from entity @p EnderItems[{Slot:16b}].id
data modify block 1 52 0 Items[{Slot:17b}].id set from entity @p EnderItems[{Slot:17b}].id
data modify block 1 52 0 Items[{Slot:18b}].id set from entity @p EnderItems[{Slot:18b}].id
data modify block 1 52 0 Items[{Slot:19b}].id set from entity @p EnderItems[{Slot:19b}].id
data modify block 1 52 0 Items[{Slot:20b}].id set from entity @p EnderItems[{Slot:20b}].id
data modify block 1 52 0 Items[{Slot:21b}].id set from entity @p EnderItems[{Slot:21b}].id
data modify block 1 52 0 Items[{Slot:22b}].id set from entity @p EnderItems[{Slot:22b}].id
data modify block 1 52 0 Items[{Slot:23b}].id set from entity @p EnderItems[{Slot:23b}].id
data modify block 1 52 0 Items[{Slot:24b}].id set from entity @p EnderItems[{Slot:24b}].id
data modify block 1 52 0 Items[{Slot:25b}].id set from entity @p EnderItems[{Slot:25b}].id
data modify block 1 52 0 Items[{Slot:26b}].id set from entity @p EnderItems[{Slot:26b}].id

data modify block 1 52 0 Items[{Slot:0b}].Count set from entity @p EnderItems[{Slot:0b}].Count
data modify block 1 52 0 Items[{Slot:1b}].Count set from entity @p EnderItems[{Slot:1b}].Count
data modify block 1 52 0 Items[{Slot:2b}].Count set from entity @p EnderItems[{Slot:2b}].Count
data modify block 1 52 0 Items[{Slot:3b}].Count set from entity @p EnderItems[{Slot:3b}].Count
data modify block 1 52 0 Items[{Slot:4b}].Count set from entity @p EnderItems[{Slot:4b}].Count
data modify block 1 52 0 Items[{Slot:5b}].Count set from entity @p EnderItems[{Slot:5b}].Count
data modify block 1 52 0 Items[{Slot:6b}].Count set from entity @p EnderItems[{Slot:6b}].Count
data modify block 1 52 0 Items[{Slot:7b}].Count set from entity @p EnderItems[{Slot:7b}].Count
data modify block 1 52 0 Items[{Slot:8b}].Count set from entity @p EnderItems[{Slot:8b}].Count
data modify block 1 52 0 Items[{Slot:9b}].Count set from entity @p EnderItems[{Slot:9b}].Count
data modify block 1 52 0 Items[{Slot:10b}].Count set from entity @p EnderItems[{Slot:10b}].Count
data modify block 1 52 0 Items[{Slot:11b}].Count set from entity @p EnderItems[{Slot:11b}].Count
data modify block 1 52 0 Items[{Slot:12b}].Count set from entity @p EnderItems[{Slot:12b}].Count
data modify block 1 52 0 Items[{Slot:13b}].Count set from entity @p EnderItems[{Slot:13b}].Count
data modify block 1 52 0 Items[{Slot:14b}].Count set from entity @p EnderItems[{Slot:14b}].Count
data modify block 1 52 0 Items[{Slot:15b}].Count set from entity @p EnderItems[{Slot:15b}].Count
data modify block 1 52 0 Items[{Slot:16b}].Count set from entity @p EnderItems[{Slot:16b}].Count
data modify block 1 52 0 Items[{Slot:17b}].Count set from entity @p EnderItems[{Slot:17b}].Count
data modify block 1 52 0 Items[{Slot:18b}].Count set from entity @p EnderItems[{Slot:18b}].Count
data modify block 1 52 0 Items[{Slot:19b}].Count set from entity @p EnderItems[{Slot:19b}].Count
data modify block 1 52 0 Items[{Slot:20b}].Count set from entity @p EnderItems[{Slot:20b}].Count
data modify block 1 52 0 Items[{Slot:21b}].Count set from entity @p EnderItems[{Slot:21b}].Count
data modify block 1 52 0 Items[{Slot:22b}].Count set from entity @p EnderItems[{Slot:22b}].Count
data modify block 1 52 0 Items[{Slot:23b}].Count set from entity @p EnderItems[{Slot:23b}].Count
data modify block 1 52 0 Items[{Slot:24b}].Count set from entity @p EnderItems[{Slot:24b}].Count
data modify block 1 52 0 Items[{Slot:25b}].Count set from entity @p EnderItems[{Slot:25b}].Count
data modify block 1 52 0 Items[{Slot:26b}].Count set from entity @p EnderItems[{Slot:26b}].Count

data modify block 1 52 0 Items[{Slot:0b}].tag set from entity @p EnderItems[{Slot:0b}].tag
data modify block 1 52 0 Items[{Slot:1b}].tag set from entity @p EnderItems[{Slot:1b}].tag
data modify block 1 52 0 Items[{Slot:2b}].tag set from entity @p EnderItems[{Slot:2b}].tag
data modify block 1 52 0 Items[{Slot:3b}].tag set from entity @p EnderItems[{Slot:3b}].tag
data modify block 1 52 0 Items[{Slot:4b}].tag set from entity @p EnderItems[{Slot:4b}].tag
data modify block 1 52 0 Items[{Slot:5b}].tag set from entity @p EnderItems[{Slot:5b}].tag
data modify block 1 52 0 Items[{Slot:6b}].tag set from entity @p EnderItems[{Slot:6b}].tag
data modify block 1 52 0 Items[{Slot:7b}].tag set from entity @p EnderItems[{Slot:7b}].tag
data modify block 1 52 0 Items[{Slot:8b}].tag set from entity @p EnderItems[{Slot:8b}].tag
data modify block 1 52 0 Items[{Slot:9b}].tag set from entity @p EnderItems[{Slot:9b}].tag
data modify block 1 52 0 Items[{Slot:10b}].tag set from entity @p EnderItems[{Slot:10b}].tag
data modify block 1 52 0 Items[{Slot:11b}].tag set from entity @p EnderItems[{Slot:11b}].tag
data modify block 1 52 0 Items[{Slot:12b}].tag set from entity @p EnderItems[{Slot:12b}].tag
data modify block 1 52 0 Items[{Slot:13b}].tag set from entity @p EnderItems[{Slot:13b}].tag
data modify block 1 52 0 Items[{Slot:14b}].tag set from entity @p EnderItems[{Slot:14b}].tag
data modify block 1 52 0 Items[{Slot:15b}].tag set from entity @p EnderItems[{Slot:15b}].tag
data modify block 1 52 0 Items[{Slot:16b}].tag set from entity @p EnderItems[{Slot:16b}].tag
data modify block 1 52 0 Items[{Slot:17b}].tag set from entity @p EnderItems[{Slot:17b}].tag
data modify block 1 52 0 Items[{Slot:18b}].tag set from entity @p EnderItems[{Slot:18b}].tag
data modify block 1 52 0 Items[{Slot:19b}].tag set from entity @p EnderItems[{Slot:19b}].tag
data modify block 1 52 0 Items[{Slot:20b}].tag set from entity @p EnderItems[{Slot:20b}].tag
data modify block 1 52 0 Items[{Slot:21b}].tag set from entity @p EnderItems[{Slot:21b}].tag
data modify block 1 52 0 Items[{Slot:22b}].tag set from entity @p EnderItems[{Slot:22b}].tag
data modify block 1 52 0 Items[{Slot:23b}].tag set from entity @p EnderItems[{Slot:23b}].tag
data modify block 1 52 0 Items[{Slot:24b}].tag set from entity @p EnderItems[{Slot:24b}].tag
data modify block 1 52 0 Items[{Slot:25b}].tag set from entity @p EnderItems[{Slot:25b}].tag
data modify block 1 52 0 Items[{Slot:26b}].tag set from entity @p EnderItems[{Slot:26b}].tag

# Remove barrier placeholders. 

execute if block 1 52 0 chest{Items:[{Slot:0b,id:"minecraft:barrier",Count:1b}]} run replaceitem block 1 52 0 container.0 air
execute if block 1 52 0 chest{Items:[{Slot:1b,id:"minecraft:barrier",Count:1b}]} run replaceitem block 1 52 0 container.1 air
execute if block 1 52 0 chest{Items:[{Slot:2b,id:"minecraft:barrier",Count:1b}]} run replaceitem block 1 52 0 container.2 air
execute if block 1 52 0 chest{Items:[{Slot:3b,id:"minecraft:barrier",Count:1b}]} run replaceitem block 1 52 0 container.3 air
execute if block 1 52 0 chest{Items:[{Slot:4b,id:"minecraft:barrier",Count:1b}]} run replaceitem block 1 52 0 container.4 air
execute if block 1 52 0 chest{Items:[{Slot:5b,id:"minecraft:barrier",Count:1b}]} run replaceitem block 1 52 0 container.5 air
execute if block 1 52 0 chest{Items:[{Slot:6b,id:"minecraft:barrier",Count:1b}]} run replaceitem block 1 52 0 container.6 air
execute if block 1 52 0 chest{Items:[{Slot:7b,id:"minecraft:barrier",Count:1b}]} run replaceitem block 1 52 0 container.7 air
execute if block 1 52 0 chest{Items:[{Slot:8b,id:"minecraft:barrier",Count:1b}]} run replaceitem block 1 52 0 container.8 air
execute if block 1 52 0 chest{Items:[{Slot:9b,id:"minecraft:barrier",Count:1b}]} run replaceitem block 1 52 0 container.9 air
execute if block 1 52 0 chest{Items:[{Slot:10b,id:"minecraft:barrier",Count:1b}]} run replaceitem block 1 52 0 container.10 air
execute if block 1 52 0 chest{Items:[{Slot:11b,id:"minecraft:barrier",Count:1b}]} run replaceitem block 1 52 0 container.11 air
execute if block 1 52 0 chest{Items:[{Slot:12b,id:"minecraft:barrier",Count:1b}]} run replaceitem block 1 52 0 container.12 air
execute if block 1 52 0 chest{Items:[{Slot:13b,id:"minecraft:barrier",Count:1b}]} run replaceitem block 1 52 0 container.13 air
execute if block 1 52 0 chest{Items:[{Slot:14b,id:"minecraft:barrier",Count:1b}]} run replaceitem block 1 52 0 container.14 air
execute if block 1 52 0 chest{Items:[{Slot:15b,id:"minecraft:barrier",Count:1b}]} run replaceitem block 1 52 0 container.15 air
execute if block 1 52 0 chest{Items:[{Slot:16b,id:"minecraft:barrier",Count:1b}]} run replaceitem block 1 52 0 container.16 air
execute if block 1 52 0 chest{Items:[{Slot:17b,id:"minecraft:barrier",Count:1b}]} run replaceitem block 1 52 0 container.17 air
execute if block 1 52 0 chest{Items:[{Slot:18b,id:"minecraft:barrier",Count:1b}]} run replaceitem block 1 52 0 container.18 air
execute if block 1 52 0 chest{Items:[{Slot:19b,id:"minecraft:barrier",Count:1b}]} run replaceitem block 1 52 0 container.19 air
execute if block 1 52 0 chest{Items:[{Slot:20b,id:"minecraft:barrier",Count:1b}]} run replaceitem block 1 52 0 container.20 air
execute if block 1 52 0 chest{Items:[{Slot:21b,id:"minecraft:barrier",Count:1b}]} run replaceitem block 1 52 0 container.21 air
execute if block 1 52 0 chest{Items:[{Slot:22b,id:"minecraft:barrier",Count:1b}]} run replaceitem block 1 52 0 container.22 air
execute if block 1 52 0 chest{Items:[{Slot:23b,id:"minecraft:barrier",Count:1b}]} run replaceitem block 1 52 0 container.23 air
execute if block 1 52 0 chest{Items:[{Slot:24b,id:"minecraft:barrier",Count:1b}]} run replaceitem block 1 52 0 container.24 air
execute if block 1 52 0 chest{Items:[{Slot:25b,id:"minecraft:barrier",Count:1b}]} run replaceitem block 1 52 0 container.25 air
execute if block 1 52 0 chest{Items:[{Slot:26b,id:"minecraft:barrier",Count:1b}]} run replaceitem block 1 52 0 container.26 air

# Clear player's enderchest. 

replaceitem entity @s enderchest.0 air
replaceitem entity @s enderchest.1 air
replaceitem entity @s enderchest.2 air
replaceitem entity @s enderchest.3 air
replaceitem entity @s enderchest.4 air
replaceitem entity @s enderchest.5 air
replaceitem entity @s enderchest.6 air
replaceitem entity @s enderchest.7 air
replaceitem entity @s enderchest.8 air
replaceitem entity @s enderchest.9 air
replaceitem entity @s enderchest.10 air
replaceitem entity @s enderchest.11 air
replaceitem entity @s enderchest.12 air
replaceitem entity @s enderchest.13 air
replaceitem entity @s enderchest.14 air
replaceitem entity @s enderchest.15 air
replaceitem entity @s enderchest.16 air
replaceitem entity @s enderchest.17 air
replaceitem entity @s enderchest.18 air
replaceitem entity @s enderchest.19 air
replaceitem entity @s enderchest.20 air
replaceitem entity @s enderchest.21 air
replaceitem entity @s enderchest.22 air
replaceitem entity @s enderchest.23 air
replaceitem entity @s enderchest.24 air
replaceitem entity @s enderchest.25 air
replaceitem entity @s enderchest.26 air
